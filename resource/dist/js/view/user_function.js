"use strict";function FBmemberSignin(e){var t=new XMLHttpRequest;t.open("POST","index.php");var n="module=member&event=FBsignin&account="+e.email+"&name="+e.name;t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);"Success"==e.message?location.assign("index.php"):alert(e.message)}}}function orderitemCreate(e){var t=new XMLHttpRequest;t.open("POST","index.php");var n=document.getElementById("purchase-amount"),a="module=orderitem&event=create&index="+e+"&amount="+(null!==n?n.value:1);t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);"Success"==e.message?location.assign("index.php?route=purchase_finish"):"請先註冊或登入"==e.message?(alert(e.message),location.assign("index.php?route=member&in=signin")):alert(e.message)}}}function cartDelete(e){var t=new XMLHttpRequest;t.open("POST","index.php");var n="module=orderitem&event=cartDelete&index="+e;t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(n),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){var e=JSON.parse(t.responseText);"Success"==e.message?(alert("成功移除"),location.reload()):alert(e.message)}}}function orderitemDelete(e,t){var n=new XMLHttpRequest;n.open("POST","index.php");var a="module=orderitem&event=delete&ordno="+e+"&index="+t;n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(a),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);"Success"==e.message?(alert("成功移除"),location.reload()):alert(e.message)}}}function orderitemSearch(){var e=new XMLHttpRequest;e.open("POST","index.php");e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("module=orderitem&event=search"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message||alert(t.message)}}}function memberSignin(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=member&event=signin&account="+document.getElementById("account").value+"&password="+document.getElementById("password").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?location.assign("index.php"):"Unverified account"==t.message?(alert("您的帳號尚未驗證，請查看簡訊驗證碼進行驗證。"),location.assign("index.php?route=member&in=verify")):alert(t.message)}}}function memberLogout(){var e=new XMLHttpRequest;e.open("POST","index.php");e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send("module=member&event=logout"),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?location.assign("index.php"):alert(t.message)}}}function memberSignup(){var e=new XMLHttpRequest;e.open("POST","index.php");var t={required:{},optional:{}};t.required.account=document.getElementById("account"),t.required.name=document.getElementById("name"),t.required.password1=document.getElementById("password1"),t.required.password2=document.getElementById("password2"),t.optional.phone=document.getElementById("phone"),t.optional.skintype=document.getElementById("skintype"),t.optional.birth=document.getElementById("birth"),t.optional.add=document.getElementById("address"),t.optional.taxid=document.getElementById("taxid"),t.optional.knowtype=document.getElementById("knowtype"),t.optional.notice=document.getElementById("notice");for(var n in t)for(var a in t[n])null===t[n][a]&&(t[n][a]={},t[n][a].value=""),"&",a,"=",t[n][a].value;e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?location.assign("index.php"):alert(t.message)}}}function memberVerify(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=member&event=verify&verify="+document.getElementById("verify").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?location.assign("index.php"):alert(t.message)}}}function memberEdit(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=member&event=edit&name="+document.getElementById("name").value+"&address="+document.getElementById("address").value+"&skintype="+document.getElementById("skintype").value+"&phone="+document.getElementById("phone").value+"&taxid="+document.getElementById("taxid").value+"&notice="+document.getElementById("notice").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?(alert("修改成功"),location.assign("index.php")):alert(t.message)}}}function memberChangePassword(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=member&event=change_password&ori_password="+document.getElementById("ori_password").value+"&new_password1="+document.getElementById("new_password1").value+"&new_password2="+document.getElementById("new_password2").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?(alert("修改成功"),location.assign("index.php")):alert(t.message)}}}function memberResetPassword(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=member&event=reset_password&account="+document.getElementById("account").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?(alert("新密碼已寄至您的信箱，請前往確認。"),location.assign("index.php?route=member&in=signin")):alert(t.message)}}}function discountApply(){var e=new XMLHttpRequest;e.open("POST","index.php");var t="module=discount&event=apply&index="+document.getElementById("index").value;e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(t),e.onreadystatechange=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);"Success"==t.message?location.assign("index.php?route=pay&order=cart"):alert(t.message)}}}function makePayment(e){var t=document.getElementById("address").value,n=document.getElementById("notice").value,a=document.getElementById("paytype").value;location.assign(e+"&address="+t+"&notice="+n+"&paytype"+a)}function cashing(e,t){var n=new XMLHttpRequest;n.open("POST","resource/cashing.php");var a="account="+e+"&ordno="+t+"&payType="+document.getElementById("paytype").value;n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(a),n.onreadystatechange=function(){if(4===n.readyState&&200===n.status){var e=JSON.parse(n.responseText);"Success"==e.message||alert(e.message)}}}